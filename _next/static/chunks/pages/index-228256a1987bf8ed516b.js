_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"/7Uu":function(e,t){e.exports={dateToString:function(e){return e?new Date(e).toLocaleString("en-US",{timeZone:"America/New_York"}):""}}},"7tdp":function(e,t,n){"use strict";e.exports=function(e){var t=0;return function(n){return e&&Array.isArray(e)&&e.length?(e.forEach((function(e){return n=function e(n,o){if(!n.fn||"function"!==typeof n.fn)return o;if(!n.regex||!(n.regex instanceof RegExp))return o;if("string"===typeof o){for(var i=n.regex,r=null,a=[];null!==(r=i.exec(o));){var s=r.index,l=r[0];a.push(o.substring(0,s)),a.push(n.fn(++t,r)),o=o.substring(s+l.length,o.length+1),i.lastIndex=0}return a.push(o),a}return Array.isArray(o)?o.map((function(t){return e(n,t)})):o}(e,n)})),n):n}}},PR8V:function(e,t,n){"use strict";var o=n("q1tI"),i=n.n(o).a.createElement;t.a=function(e){var t=e.isResourcesPage,n=void 0!==t&&t;return i("div",{className:"info-banner"},i("p",null,"As of April 28, 2021, VaccinateMA will no longer be providing updated information on vaccination availability in Massachusetts."),i("br",null),i("p",null,"While we were grateful to have the chance to help our fellow Bay Staters find vaccines during the early part of the rollout, our state now has widespread vaccine availability and the highest percentage of fully-vaccinated eligible adults in the US. If you're still looking for a vaccine, please check out our"," ",n?"resources page below":i("a",{href:"/resources"},"resources page")," ","for links to other sites that are continuing on."),i("br",null),i("p",null,"Have a great summer, and stay safe!"),i("p",null,"\u2764 The VaccinateMA team"))}},RNiq:function(e,t,n){"use strict";n.r(t);var o=n("rePB"),i=n("q1tI"),r=n.n(i),a=n("PR8V"),s=n("5Yp1"),l=n("IP2g"),u=n("wHSu"),c=r.a.createElement,p=function(e){var t=e.hasAvailability?1==e.numSites?c("p",null,c("b",null,"1")," site has reported available appointments."):c("p",null,c("b",null,e.numSites)," sites have reported available appointments."):1==e.numSites?c("p",null,"There is ",c("b",null,"1")," site that reports no available appointments."):c("p",null,"There are ",c("b",null,e.numSites)," sites that report no available appointments.");return c("span",{className:"availability-banner"},c(l.a,{icon:e.hasAvailability?u.b:u.m}),t)},h=r.a.createElement,d=function(e){return h("button",{className:"button-custom button-custom-".concat(e.color),onClick:e.onClick,style:{borderRadius:e.borderRadius||"4px"}},function(e){if(!e)return null;switch(e){case"search":return h(l.a,{icon:u.k});case"location":return h(l.a,{icon:u.h});case"map":return h(l.a,{icon:u.i});case"list":return h(l.a,{icon:u.g})}return null}(e.icon),e.title)},m=n("17x9"),f=n.n(m),g=n("i8i4"),v=n.n(g),_=n("uhBA"),y=n.n(_);class b{constructor({apiKey:e,channel:t,client:n,id:o="__googleMapsScriptId",libraries:i=[],language:r,region:a,version:s,mapIds:l,nonce:u,retries:c=3,url:p="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.version=s,this.apiKey=e,this.channel=t,this.client=n,this.id=o||"__googleMapsScriptId",this.libraries=i,this.language=r,this.region=a,this.mapIds=l,this.nonce=u,this.retries=c,this.url=p,b.instance){if(!function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,i,r;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=o;0!==i--;){var a=r[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}(this.options,b.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(b.instance.options)}`);return b.instance}b.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}createUrl(){let e=this.url;return e+="?callback="+this.CALLBACK,this.apiKey&&(e+="&key="+this.apiKey),this.channel&&(e+="&channel="+this.channel),this.client&&(e+="&client="+this.client),this.libraries.length>0&&(e+="&libraries="+this.libraries.join(",")),this.language&&(e+="&language="+this.language),this.region&&(e+="&region="+this.region),this.version&&(e+="&v="+this.version),this.mapIds&&(e+="&map_ids="+this.mapIds.join(",")),e}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(n=>{n?t(n):e()})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}resetIfRetryingFailed(){const e=this.retries+1;this.done&&!this.loading&&this.errors.length>=e&&(this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[])}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=e,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){window.google&&window.google.maps&&window.google.maps.version&&(console.warn("Aborted attempt to load Google Maps JS with @googlemaps/js-api-loader.This may result in undesirable behavior as script parameters may not match."),this.callback()),this.resetIfRetryingFailed(),this.done?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}var C=n("xnQO"),w=n.n(C);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},x=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(){return!1},n.render=function(){return r.a.createElement("div",{ref:this.props.registerChild,style:L})},t}(i.Component),O=function(e){function t(t){var n;return(n=e.call(this)||this).gmapInstance=t,n}S(t,e);var n=t.prototype;return n.getChildren=function(){return this.gmapInstance.props.children},n.getMousePosition=function(){return this.gmapInstance.mouse_},n.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},n.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},t}(y.a),D=function(e,t){for(var n=M({},e),o=0;o<t.length;o++){var i=t[o];i in n&&delete n[i]}return n},E=Object.prototype.hasOwnProperty;function z(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(z(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!E.call(t,n[i])||!z(e[n[i]],t[n[i]]))return!1;return!0}var P={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},A={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},T=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getState=function(){return{children:n.props.dispatcher.getChildren(),updateCounter:n.props.dispatcher.getUpdateCounter()}},n._onChangeHandler=function(){if(n.dimensionsCache_){var e=(n.state.children||[]).length,t=n._getState();n.setState(t,(function(){return(t.children||[]).length!==e&&n._onMouseChangeHandler()}))}},n._onChildClick=function(){n.props.onChildClick&&n.hoverChildProps_&&n.props.onChildClick(n.hoverKey_,n.hoverChildProps_)},n._onChildMouseDown=function(){n.props.onChildMouseDown&&n.hoverChildProps_&&n.props.onChildMouseDown(n.hoverKey_,n.hoverChildProps_)},n._onChildMouseEnter=function(e,t){n.dimensionsCache_&&(n.props.onChildMouseEnter&&n.props.onChildMouseEnter(e,t),n.hoverChildProps_=t,n.hoverKey_=e,n.setState({hoverKey:e}))},n._onChildMouseLeave=function(){if(n.dimensionsCache_){var e=n.hoverKey_;null!=e&&(n.props.onChildMouseLeave&&n.props.onChildMouseLeave(e,n.hoverChildProps_),n.hoverKey_=null,n.hoverChildProps_=null,n.setState({hoverKey:null}))}},n._onMouseAllow=function(e){e||n._onChildMouseLeave(),n.allowMouse_=e},n._onMouseChangeHandler=function(){n.allowMouse_&&n._onMouseChangeHandlerRaf()},n._onMouseChangeHandlerRaf=function(){if(n.dimensionsCache_){var e=n.props.dispatcher.getMousePosition();if(e){var t=[],o=n.props.getHoverDistance();if(r.a.Children.forEach(n.state.children,(function(i,r){if(i&&(void 0!==i.props.latLng||void 0!==i.props.lat||void 0!==i.props.lng)){var a=null!=i.key?i.key:r,s=n.props.distanceToMouse(n.dimensionsCache_[a],e,i.props);s<o&&t.push({key:a,dist:s,props:i.props})}})),t.length){t.sort((function(e,t){return e.dist-t.dist}));var i=t[0].key,a=t[0].props;n.hoverKey_!==i&&(n._onChildMouseLeave(),n._onChildMouseEnter(i,a))}else n._onChildMouseLeave()}else n._onChildMouseLeave()}},n._getDimensions=function(e){return n.dimensionsCache_[e]},n.dimensionsCache_={},n.hoverKey_=null,n.hoverChildProps_=null,n.allowMouse_=!0,n.state=M({},n._getState(),{hoverKey:null}),n}S(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},n.shouldComponentUpdate=function(e,t){return!0===this.props.experimental?!N(this.props,e)||!N(D(this.state,["hoverKey"]),D(t,["hoverKey"])):!N(this.props,e)||!N(this.state,t)},n.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},n.render=function(){var e=this,t=this.props.style||P;this.dimensionsCache_={};var n=r.a.Children.map(this.state.children,(function(t,n){if(t){if(void 0===t.props.latLng&&void 0===t.props.lat&&void 0===t.props.lng)return r.a.cloneElement(t,{$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender});var o=void 0!==t.props.latLng?t.props.latLng:{lat:t.props.lat,lng:t.props.lng},i=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(o):e.props.geoService.fromLatLngToCenterPixel(o),a={left:i.x,top:i.y};if(void 0!==t.props.seLatLng||void 0!==t.props.seLat&&void 0!==t.props.seLng){var s=void 0!==t.props.seLatLng?t.props.seLatLng:{lat:t.props.seLat,lng:t.props.seLng},l=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(s):e.props.geoService.fromLatLngToCenterPixel(s);a.width=l.x-i.x,a.height=l.y-i.y}var u=e.props.geoService.fromLatLngToContainerPixel(o),c=null!=t.key?t.key:n;return e.dimensionsCache_[c]=M({x:u.x,y:u.y},o),r.a.createElement("div",{key:c,style:M({},A,a),className:t.props.$markerHolderClassName},r.a.cloneElement(t,{$hover:c===e.state.hoverKey,$getDimensions:e._getDimensions,$dimensionKey:c,$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender}))}}));return r.a.createElement("div",{style:t},n)},t}(i.Component);T.propTypes={geoService:f.a.any,style:f.a.any,distanceToMouse:f.a.func,dispatcher:f.a.any,onChildClick:f.a.func,onChildMouseDown:f.a.func,onChildMouseLeave:f.a.func,onChildMouseEnter:f.a.func,getHoverDistance:f.a.func,insideMapPanes:f.a.bool,prerender:f.a.bool},T.defaultProps={insideMapPanes:!1,prerender:!1};var j={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function I(e){return r.a.createElement("div",{style:j},r.a.createElement(T,M({},e,{prerender:!0})))}var Z,U,R,H=new Promise((function(e){R=e})),B=function(e,t){if(!e)return H;if(U)return U;e.libraries||(e.libraries=[]);var n=[].concat(e.libraries);if(t&&(0!==n.length&&n.includes("visualization")||n.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),"undefined"==typeof window)throw new Error("google map cannot be loaded outside browser env");var o=e.key,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t.indexOf(n=r[o])>=0||(i[n]=e[n]);return i}(e,["key"]);return Z||(Z=new b(M({apiKey:o||""},i,{libraries:n}))),U=Z.load().then((function(){return R(window.google.maps),window.google.maps})),R(U),U};function K(e,t,n){var o=n-t;return e===n?e:((e-t)%o+o)%o+t}var W=function(){function e(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t}return e.prototype.wrap=function(){return new e(this.lat,K(this.lng,-180,180))},e}();W.convert=function(e){return e instanceof W?e:Array.isArray(e)?new W(e[0],e[1]):"lng"in e&&"lat"in e?new W(e.lat,e.lng):e};var G=function(){function e(e,t,n){this.tileSize=e||512,this._minZoom=t||0,this._maxZoom=n||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new W(0,0),this.angle=0}var t,n=e.prototype;return n.zoomScale=function(e){return Math.pow(2,e)},n.scaleZoom=function(e){return Math.log(e)/Math.LN2},n.project=function(e,t){return new w.a(this.lngX(e.lng,t),this.latY(e.lat,t))},n.unproject=function(e,t){return new W(this.yLat(e.y,t),this.xLng(e.x,t))},n.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},n.latY=function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},n.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},n.yLat=function(e,t){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(t||this.worldSize))*Math.PI/180))-90},n.locationPoint=function(e){var t=this.project(e);return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle))},n.pointLocation=function(e){var t=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(t))},(t=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new w.a(0,0)}},{key:"size",get:function(){return new w.a(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-K(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new w.a(this.x,this.y)}}])&&function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(e.prototype,t),e}(),V=function(){function e(e){this.hasSize_=!1,this.hasView_=!1,this.transform_=new G(e||512)}var t=e.prototype;return t.setView=function(e,t,n){this.transform_.center=W.convert(e),this.transform_.zoom=+t,this.transform_.bearing=+n,this.hasView_=!0},t.setViewSize=function(e,t){this.transform_.width=e,this.transform_.height=t,this.hasSize_=!0},t.setMapCanvasProjection=function(e,t){this.maps_=e,this.mapCanvasProjection_=t},t.canProject=function(){return this.hasSize_&&this.hasView_},t.hasSize=function(){return this.hasSize_},t.fromLatLngToCenterPixel=function(e){return this.transform_.locationPoint(W.convert(e))},t.fromLatLngToDivPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(t)}return this.fromLatLngToCenterPixel(e)},t.fromLatLngToContainerPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(t)}var n=this.fromLatLngToCenterPixel(e);return n.x-=this.transform_.worldSize*Math.round(n.x/this.transform_.worldSize),n.x+=this.transform_.width/2,n.y+=this.transform_.height/2,n},t.fromContainerPixelToLatLng=function(e){if(this.mapCanvasProjection_){var t=this.mapCanvasProjection_.fromContainerPixelToLatLng(e);return{lat:t.lat(),lng:t.lng()}}var n=M({},e);n.x-=this.transform_.width/2,n.y-=this.transform_.height/2;var o=this.transform_.pointLocation(w.a.convert(n));return o.lng-=360*Math.round(o.lng/360),o},t.getWidth=function(){return this.transform_.width},t.getHeight=function(){return this.transform_.height},t.getZoom=function(){return this.transform_.zoom},t.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},t.getBounds=function(e,t){var n=e&&e[0]||0,o=e&&e[1]||0,i=e&&e[2]||0,r=e&&e[3]||0;if(this.getWidth()-o-r>0&&this.getHeight()-n-i>0){var a=this.transform_.pointLocation(w.a.convert({x:r-this.getWidth()/2,y:n-this.getHeight()/2})),s=this.transform_.pointLocation(w.a.convert({x:this.getWidth()/2-o,y:this.getHeight()/2-i})),l=[a.lat,a.lng,s.lat,s.lng,s.lat,a.lng,a.lat,s.lng];return t&&(l=l.map((function(e){return Math.round(e*t)/t}))),l}return[0,0,0,0]},e}();function F(e){if(window.requestAnimationFrame)return window.requestAnimationFrame(e);var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)}var q=Math.log2?Math.log2:function(e){return Math.log(e)/Math.LN2};function $(e,t){return Object.keys(e).reduce((function(n,o){return t(e[o])&&(n[o]=e[o]),n}),{})}var Y=function(e){if(null!==e&&"object"==typeof e){if(0===Object.keys(e).length)return!0}else if(null==e||""===e)return!0;return!1},J=Object.prototype.toString;function X(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"===J.call(e)}var Q=null;function ee(){if(Q)return Q;if("undefined"!=typeof navigator){var e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,n=navigator.userAgent.toLowerCase().indexOf("op")>-1,o=navigator.userAgent.indexOf("Chrome")>-1,i=navigator.userAgent.indexOf("Safari")>-1;return o&&i&&(i=!1),o&&n&&(o=!1),Q={isExplorer:e,isFirefox:t,isOpera:n,isChrome:o,isSafari:i}}return Q={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var te=function(e){return Function.prototype.toString.call(e)};function ne(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&te(n)===te(Object)}function oe(e,t,n,o){e.addEventListener(t,n,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()?{capture:o,passive:!0}:o)}var ie,re=!("undefined"==typeof window||!window.document||!window.document.createElement);ie=re?window:"undefined"!=typeof self?self:void 0;var ae,se="undefined"!=typeof document&&document.attachEvent,le=!1;if(re&&!se){var ue=function(){var e=ie.requestAnimationFrame||ie.mozRequestAnimationFrame||ie.webkitRequestAnimationFrame||function(e){return ie.setTimeout(e,20)};return function(t){return e(t)}}(),ce=(ae=ie.cancelAnimationFrame||ie.mozCancelAnimationFrame||ie.webkitCancelAnimationFrame||ie.clearTimeout,function(e){return ae(e)}),pe=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,o=t.lastElementChild,i=n.firstElementChild;o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},he=function(e){var t=this;pe(this),this.__resizeRAF__&&ce(this.__resizeRAF__),this.__resizeRAF__=ue((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))},de=!1,me="",fe="animationstart",ge="Webkit Moz O ms".split(" "),ve="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(re){var _e=document.createElement("fakeelement");if(void 0!==_e.style.animationName&&(de=!0),!1===de)for(var ye=0;ye<ge.length;ye++)if(void 0!==_e.style[ge[ye]+"AnimationName"]){me="-"+ge[ye].toLowerCase()+"-",fe=ve[ye],de=!0;break}}var be="resizeanim",Ce="@"+me+"keyframes "+be+" { from { opacity: 0; } to { opacity: 0; } } ",we=me+"animation: 1ms "+be+"; "}var Me=void 0!==v.a.createPortal,Se=Me?v.a.createPortal:v.a.unstable_renderSubtreeIntoContainer,ke=function(e){return ne(e)?e:{lat:e[0],lng:e[1]}},Le=function(e,t){return t<e?e:t},xe=function(e){function t(t){var n;if((n=e.call(this,t)||this)._getMinZoom=function(){if(n.geoService_.getWidth()>0||n.geoService_.getHeight()>0){var e=Math.ceil(n.geoService_.getWidth()/256)+2,t=Math.ceil(n.geoService_.getHeight()/256)+2,o=Math.max(e,t);return Math.ceil(q(o))}return 3},n._computeMinZoom=function(e){return Y(e)?n._getMinZoom():e},n._mapDomResizeCallback=function(){if(n.resetSizeOnIdle_=!0,n.maps_){var e=n.props.center||n.props.defaultCenter,t=n.map_.getCenter();n.maps_.event.trigger(n.map_,"resize"),n.map_.setCenter(n.props.resetBoundsOnResize?e:t)}},n._setLayers=function(e){e.forEach((function(e){n.layers_[e]=new n.maps_[e],n.layers_[e].setMap(n.map_)}))},n._renderPortal=function(){return r.a.createElement(T,{experimental:n.props.experimental,onChildClick:n._onChildClick,onChildMouseDown:n._onChildMouseDown,onChildMouseEnter:n._onChildMouseEnter,onChildMouseLeave:n._onChildMouseLeave,geoService:n.geoService_,insideMapPanes:!0,distanceToMouse:n.props.distanceToMouse,getHoverDistance:n._getHoverDistance,dispatcher:n.markersDispatcher_})},n._initMap=function(){if(!n.initialized_){n.initialized_=!0;var e=ke(n.props.center||n.props.defaultCenter);n.geoService_.setView(e,n.props.zoom||n.props.defaultZoom,0),n._onBoundsChanged();var t=M({},n.props.apiKey&&{key:n.props.apiKey},n.props.bootstrapURLKeys);n.props.googleMapLoader(t,n.props.heatmapLibrary).then((function(e){if(n.mounted_){var t,o,i=n.geoService_.getCenter(),r={zoom:n.props.zoom||n.props.defaultZoom,center:new e.LatLng(i.lat,i.lng)};n.props.heatmap.positions&&(Object.assign(k(n),{heatmap:(t=e,o=n.props.heatmap,new t.visualization.HeatmapLayer({data:o.positions.reduce((function(e,n){var o=n.weight,i=void 0===o?1:o;return e.push({location:new t.LatLng(n.lat,n.lng),weight:i}),e}),[])}))}),function(e,t){var n=t.options,o=void 0===n?{}:n;Object.keys(o).map((function(t){return e.set(t,o[t])}))}(n.heatmap,n.props.heatmap));var a=$(e,ne),s="function"==typeof n.props.options?n.props.options(a):n.props.options,l=!Y(n.props.draggable)&&{draggable:n.props.draggable},u=n._computeMinZoom(s.minZoom);n.minZoom_=u;var c=M({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:u},s,r);n.defaultDraggableOption_=Y(c.draggable)?n.defaultDraggableOption_:c.draggable;var p=M({},c,l);p.minZoom=Le(p.minZoom,u);var h=new e.Map(v.a.findDOMNode(n.googleMapDom_),p);n.map_=h,n.maps_=e,n._setLayers(n.props.layerTypes);var d=e.version.match(/^3\.(\d+)\./),m=d&&Number(d[1]),f=k(n),g=Object.assign(new e.OverlayView,{onAdd:function(){var t="undefined"!=typeof screen?screen.width+"px":"2000px",n="undefined"!=typeof screen?screen.height+"px":"2000px",o=document.createElement("div");if(o.style.backgroundColor="transparent",o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.width=t,o.style.height=n,f.props.overlayViewDivStyle){var i=f.props.overlayViewDivStyle;"object"==typeof i&&Object.keys(i).forEach((function(e){o.style[e]=i[e]}))}this.getPanes().overlayMouseTarget.appendChild(o),f.geoService_.setMapCanvasProjection(e,g.getProjection()),Me?f.setState({overlay:o}):Se(f,f._renderPortal(),o,(function(){return f.setState({overlay:o})}))},onRemove:function(){var e=f.state.overlay;e&&!Me&&v.a.unmountComponentAtNode(e),f.setState({overlay:null})},draw:function(){if(f.updateCounter_++,f._onBoundsChanged(h,e,!f.props.debounced),f.googleApiLoadedCalled_||(f._onGoogleApiLoaded({map:h,maps:e,ref:f.googleMapDom_}),f.googleApiLoadedCalled_=!0),f.mouse_){var t=f.geoService_.fromContainerPixelToLatLng(f.mouse_);f.mouse_.lat=t.lat,f.mouse_.lng=t.lng}f._onChildMouseMove(),f.markersDispatcher_&&(f.markersDispatcher_.emit("kON_CHANGE"),f.fireMouseEventOnIdle_&&f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});n.overlay_=g,g.setMap(h),n.props.heatmap.positions&&n.heatmap.setMap(h),n.props.onTilesLoaded&&e.event.addListener(h,"tilesloaded",(function(){f._onTilesLoaded()})),e.event.addListener(h,"zoom_changed",(function(){f.geoService_.getZoom()!==h.getZoom()&&(f.zoomAnimationInProgress_||(f.zoomAnimationInProgress_=!0,f._onZoomAnimationStart(h.zoom)),m<32)&&((new Date).getTime()-n.zoomControlClickTime_<300?F((function(){return F((function(){f.updateCounter_++,f._onBoundsChanged(h,e)}))})):(f.updateCounter_++,f._onBoundsChanged(h,e)))})),e.event.addListener(h,"idle",(function(){if(n.resetSizeOnIdle_){n._setViewSize();var t=n._computeMinZoom(s.minZoom);t!==n.minZoom_&&(n.minZoom_=t,h.setOptions({minZoom:t})),n.resetSizeOnIdle_=!1}f.zoomAnimationInProgress_&&(f.zoomAnimationInProgress_=!1,f._onZoomAnimationEnd(h.zoom)),f.updateCounter_++,f._onBoundsChanged(h,e),f.dragTime_=0,f.markersDispatcher_&&f.markersDispatcher_.emit("kON_CHANGE")})),e.event.addListener(h,"mouseover",(function(){f.mouseInMap_=!0})),e.event.addListener(h,"click",(function(){f.mouseInMap_=!0})),e.event.addListener(h,"mouseout",(function(){f.mouseInMap_=!1,f.mouse_=null,f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")})),e.event.addListener(h,"drag",(function(){f.dragTime_=(new Date).getTime(),f._onDrag(h)})),e.event.addListener(h,"dragend",(function(){var t=e.event.addListener(h,"idle",(function(){e.event.removeListener(t),f._onDragEnd(h)}))})),e.event.addListener(h,"maptypeid_changed",(function(){f._onMapTypeIdChange(h.getMapTypeId())}))}})).catch((function(e){throw n._onGoogleApiLoaded({map:null,maps:null,ref:n.googleMapDom_}),console.error(e),e}))}},n._onGoogleApiLoaded=function(){var e;n.props.onGoogleApiLoaded&&(e=n.props).onGoogleApiLoaded.apply(e,arguments)},n._getHoverDistance=function(){return n.props.hoverDistance},n._onDrag=function(){var e;return n.props.onDrag&&(e=n.props).onDrag.apply(e,arguments)},n._onDragEnd=function(){var e;return n.props.onDragEnd&&(e=n.props).onDragEnd.apply(e,arguments)},n._onMapTypeIdChange=function(){var e;return n.props.onMapTypeIdChange&&(e=n.props).onMapTypeIdChange.apply(e,arguments)},n._onZoomAnimationStart=function(){var e;return n.props.onZoomAnimationStart&&(e=n.props).onZoomAnimationStart.apply(e,arguments)},n._onZoomAnimationEnd=function(){var e;return n.props.onZoomAnimationEnd&&(e=n.props).onZoomAnimationEnd.apply(e,arguments)},n._onTilesLoaded=function(){return n.props.onTilesLoaded&&n.props.onTilesLoaded()},n._onChildClick=function(){var e;if(n.props.onChildClick)return(e=n.props).onChildClick.apply(e,arguments)},n._onChildMouseDown=function(e,t){n.childMouseDownArgs_=[e,t],n.props.onChildMouseDown&&n.props.onChildMouseDown(e,t,M({},n.mouse_))},n._onChildMouseUp=function(){var e;n.childMouseDownArgs_&&(n.props.onChildMouseUp&&(e=n.props).onChildMouseUp.apply(e,n.childMouseDownArgs_.concat([M({},n.mouse_)])),n.childMouseDownArgs_=null,n.childMouseUpTime_=(new Date).getTime())},n._onChildMouseMove=function(){var e;n.childMouseDownArgs_&&n.props.onChildMouseMove&&(e=n.props).onChildMouseMove.apply(e,n.childMouseDownArgs_.concat([M({},n.mouse_)]))},n._onChildMouseEnter=function(){var e;if(n.props.onChildMouseEnter)return(e=n.props).onChildMouseEnter.apply(e,arguments)},n._onChildMouseLeave=function(){var e;if(n.props.onChildMouseLeave)return(e=n.props).onChildMouseLeave.apply(e,arguments)},n._setViewSize=function(){if(n.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)n.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var e=v.a.findDOMNode(n.googleMapDom_);n.geoService_.setViewSize(e.clientWidth,e.clientHeight)}n._onBoundsChanged()}},n._onWindowResize=function(){n.resetSizeOnIdle_=!0},n._onMapMouseMove=function(e){if(n.mouseInMap_){var t=(new Date).getTime();t-n.mouseMoveTime_>50&&(n.boundingRect_=e.currentTarget.getBoundingClientRect()),n.mouseMoveTime_=t;var o=e.clientX-n.boundingRect_.left,i=e.clientY-n.boundingRect_.top;n.mouse_||(n.mouse_={x:0,y:0,lat:0,lng:0}),n.mouse_.x=o,n.mouse_.y=i;var r=n.geoService_.fromContainerPixelToLatLng(n.mouse_);n.mouse_.lat=r.lat,n.mouse_.lng=r.lng,n._onChildMouseMove(),t-n.dragTime_<100?n.fireMouseEventOnIdle_=!0:(n.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),n.fireMouseEventOnIdle_=!1)}},n._onClick=function(){var e;return n.props.onClick&&!n.childMouseDownArgs_&&(new Date).getTime()-n.childMouseUpTime_>300&&0===n.dragTime_&&(e=n.props).onClick.apply(e,arguments)},n._onMapClick=function(e){n.markersDispatcher_&&(n._onMapMouseMove(e),(new Date).getTime()-n.dragTime_>100&&(n.mouse_&&n._onClick(M({},n.mouse_,{event:e})),n.markersDispatcher_.emit("kON_CLICK",e)))},n._onMapMouseDownNative=function(e){n.mouseInMap_&&n._onMapMouseDown(e)},n._onMapMouseDown=function(e){n.markersDispatcher_&&(new Date).getTime()-n.dragTime_>100&&(n._onMapMouseMove(e),n.markersDispatcher_.emit("kON_MDOWN",e))},n._onMapMouseDownCapture=function(){ee().isChrome&&(n.zoomControlClickTime_=(new Date).getTime())},n._onKeyDownCapture=function(){ee().isChrome&&(n.zoomControlClickTime_=(new Date).getTime())},n._isCenterDefined=function(e){return e&&(ne(e)&&X(e.lat)&&X(e.lng)||2===e.length&&X(e[0])&&X(e[1]))},n._onBoundsChanged=function(e,t,o){if(e){var i=e.getCenter();n.geoService_.setView([i.lat(),i.lng()],e.getZoom(),0)}if((n.props.onChange||n.props.onBoundsChange)&&n.geoService_.canProject()){var r=n.geoService_.getZoom(),a=n.geoService_.getBounds(),s=n.geoService_.getCenter();if(!function(e,t,n){if(e&&t){for(var o=0;o!==e.length;++o)if(Math.abs(e[o]-t[o])>1e-5)return!1;return!0}return!1}(a,n.prevBounds_)&&!1!==o){var l=n.geoService_.getBounds(n.props.margin);n.props.onBoundsChange&&n.props.onBoundsChange(n.centerIsObject_?M({},s):[s.lat,s.lng],r,a,l),n.props.onChange&&n.props.onChange({center:M({},s),zoom:r,bounds:{nw:{lat:a[0],lng:a[1]},se:{lat:a[2],lng:a[3]},sw:{lat:a[4],lng:a[5]},ne:{lat:a[6],lng:a[7]}},marginBounds:{nw:{lat:l[0],lng:l[1]},se:{lat:l[2],lng:l[3]},sw:{lat:l[4],lng:l[5]},ne:{lat:l[6],lng:l[7]}},size:n.geoService_.hasSize()?{width:n.geoService_.getWidth(),height:n.geoService_.getHeight()}:{width:0,height:0}}),n.prevBounds_=a}}},n._registerChild=function(e){n.googleMapDom_=e},n.mounted_=!1,n.initialized_=!1,n.googleApiLoadedCalled_=!1,n.map_=null,n.maps_=null,n.prevBounds_=null,n.heatmap=null,n.layers_={},n.mouse_=null,n.mouseMoveTime_=0,n.boundingRect_=null,n.mouseInMap_=!0,n.dragTime_=0,n.fireMouseEventOnIdle_=!1,n.updateCounter_=0,n.markersDispatcher_=new O(k(n)),n.geoService_=new V(256),n.centerIsObject_=ne(n.props.center),n.minZoom_=3,n.defaultDraggableOption_=!0,n.zoomControlClickTime_=0,n.childMouseDownArgs_=null,n.childMouseUpTime_=0,n.googleMapDom_=null,n._isCenterDefined(n.props.center||n.props.defaultCenter)){var o=ke(n.props.center||n.props.defaultCenter);n.geoService_.setView(o,n.props.zoom||n.props.defaultZoom,0)}return n.zoomAnimationInProgress_=!1,n.state={overlay:null},n}S(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.mounted_=!0,oe(window,"resize",this._onWindowResize,!1),oe(window,"keydown",this._onKeyDownCapture,!0);var t=v.a.findDOMNode(this.googleMapDom_);t&&oe(t,"mousedown",this._onMapMouseDownNative,!0),oe(window,"mouseup",this._onChildMouseUp,!1);var n=M({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(n,this.props.heatmapLibrary),setTimeout((function(){e._setViewSize(),e._isCenterDefined(e.props.center||e.props.defaultCenter)&&e._initMap()}),0,this),this.props.resetBoundsOnResize&&function(e,t){if(void 0===e.parentNode){var n=document.createElement("div");e.parentNode=n}e=e.parentNode,se?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!le){var e=(Ce||"")+".resize-triggers { "+(we||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n),le=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),pe(e),oe(e,"scroll",he,!0),fe&&e.__resizeTriggers__.addEventListener(fe,(function(t){t.animationName==be&&pe(e)}))),e.__resizeListeners__.push(t))}(t,this._mapDomResizeCallback)},n.shouldComponentUpdate=function(e,t){return!N(D(this.props,["draggable"]),D(e,["draggable"]))||!N(this.state,t)},n.componentDidUpdate=function(e){var t=this;if(!this._isCenterDefined(e.center)&&this._isCenterDefined(this.props.center)&&setTimeout((function(){return t._initMap()}),0),this.map_){var n=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var o=ke(this.props.center),i=this._isCenterDefined(e.center)?ke(e.center):null;(!i||Math.abs(o.lat-i.lat)+Math.abs(o.lng-i.lng)>1e-5)&&Math.abs(o.lat-n.lat)+Math.abs(o.lng-n.lng)>1e-5&&this.map_.panTo({lat:o.lat,lng:o.lng})}if(Y(this.props.zoom)||Math.abs(this.props.zoom-e.zoom)>0&&this.map_.setZoom(this.props.zoom),!Y(e.draggable)&&Y(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):N(e.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!Y(this.props.options)&&!N(e.options,this.props.options)){var r=$(this.maps_,ne),a="function"==typeof this.props.options?this.props.options(r):this.props.options;if("minZoom"in(a=D(a,["zoom","center","draggable"]))){var s=this._computeMinZoom(a.minZoom);a.minZoom=Le(a.minZoom,s)}this.map_.setOptions(a)}N(this.props.layerTypes,e.layerTypes)||(Object.keys(this.layers_).forEach((function(e){t.layers_[e].setMap(null),delete t.layers_[e]})),this._setLayers(this.props.layerTypes)),this.heatmap&&!N(this.props.heatmap.positions,e.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map((function(e){return{location:new t.maps_.LatLng(e.lat,e.lng),weight:e.weight}}))),this.heatmap&&!N(this.props.heatmap.options,e.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach((function(e){t.heatmap.set(e,t.props.heatmap.options[e])}))}this.markersDispatcher_.emit("kON_CHANGE"),N(this.props.hoverDistance,e.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},n.componentWillUnmount=function(){this.mounted_=!1;var e,t,n=v.a.findDOMNode(this.googleMapDom_);n&&n.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(t=this._mapDomResizeCallback,e=(e=n).parentNode,se?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",he),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},n.render=function(){var e=this.state.overlay,t=e?null:r.a.createElement(I,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return r.a.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},r.a.createElement(x,{registerChild:this._registerChild}),Me&&e&&Se(this._renderPortal(),e),t)},t}(i.Component);xe.propTypes={apiKey:f.a.string,bootstrapURLKeys:f.a.any,defaultCenter:f.a.oneOfType([f.a.array,f.a.shape({lat:f.a.number,lng:f.a.number})]),center:f.a.oneOfType([f.a.array,f.a.shape({lat:f.a.number,lng:f.a.number})]),defaultZoom:f.a.number,zoom:f.a.number,onBoundsChange:f.a.func,onChange:f.a.func,onClick:f.a.func,onChildClick:f.a.func,onChildMouseDown:f.a.func,onChildMouseUp:f.a.func,onChildMouseMove:f.a.func,onChildMouseEnter:f.a.func,onChildMouseLeave:f.a.func,onZoomAnimationStart:f.a.func,onZoomAnimationEnd:f.a.func,onDrag:f.a.func,onDragEnd:f.a.func,onMapTypeIdChange:f.a.func,onTilesLoaded:f.a.func,options:f.a.any,distanceToMouse:f.a.func,hoverDistance:f.a.number,debounced:f.a.bool,margin:f.a.array,googleMapLoader:f.a.any,onGoogleApiLoaded:f.a.func,yesIWantToUseGoogleMapApiInternals:f.a.bool,draggable:f.a.bool,style:f.a.any,resetBoundsOnResize:f.a.bool,layerTypes:f.a.arrayOf(f.a.string),shouldUnregisterMapOnUnmount:f.a.bool},xe.defaultProps={distanceToMouse:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:B,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},xe.googleMapLoader=B;var Oe=xe,De=n("7tdp"),Ee=n.n(De),ze=r.a.createElement,Ne=function(e,t){return ze("span",{key:e},ze("a",{target:"_blank",rel:"noreferrer",href:"".concat(t[1],"://").concat(t[2],".").concat(t[3]).concat(t[4])},t[2],".",t[3],t[4]),t[5])},Pe=function(e,t){return ze("span",{key:e},ze("a",{target:"_blank",rel:"noreferrer",href:"http://".concat(t[1],".").concat(t[2]).concat(t[3])},t[1],".",t[2],t[3]),t[4])},Ae=function(e){var t=[{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |,|$|\.)/gim,fn:Ne},{regex:/(\S+)\.([a-z]{2,}?)(.*?)( |,|$|\.)/gim,fn:Pe}];return Ee()(t)(e)},Te=n("/7Uu"),je=r.a.createElement,Ie=function(e){var t=e.id,n=e.lat,o=e.lng,i=e.sitePinShape,r=e.setPopupData,a=e.getSiteDataByKey;return je("div",{className:i,onClick:function(){var e=a(t);r({lat:n,lng:o,data:e})},style:{position:"absolute",transform:"translate(-50%, -50%)",cursor:"pointer"}})},Ze={.25:17,.5:16,1:15,5:12,10:11,25:10},Ue=function(e){var t=e.rawSiteData,n=e.center,o=e.zoom,r=e.onMapChange,a=e.setPopupData,s=Object(i.useState)([]),l=s[0],u=s[1],c=function(e){return l.find((function(t){return e===t.id}))};return Object(i.useEffect)((function(){u(t.map((function(e){return{id:e.id,locationName:e.name,address:e.address,populationsServed:Ae(e.serves),vaccineAvailability:e.availability&&Ae(e.availability),lastUpdated:Object(Te.dateToString)(e.lastUpdated),bookAppointmentInformation:Ae(e.bookAppointmentInfo),latitude:e.latitude,longitude:e.longitude,sitePinShape:e.sitePinShape}})))}),[t]),je("div",{style:{height:"400px",width:"100%"}},je(Oe,{bootstrapURLKeys:{key:"AIzaSyAMA2s_tcs5Yitjx-bW5_eCQEka1um7m30"},center:n,zoom:o,draggableCursor:"crosshair",onChange:r},l&&l.map((function(e){return je(Ie,{key:e.id,id:e.id,lat:e.latitude,lng:e.longitude,sitePinShape:e.sitePinShape,setPopupData:a,getSiteDataByKey:c})}))))},Re=r.a.createElement,He=function(e){var t=!!e.availability,n="https://maps.google.com/?q="+e.address;return Re("div",{className:"search-result"},Re("div",{className:"bar ".concat(t?"bar-available":"bar-unavailable")}),Re("div",{className:"contents"},Re("div",{className:"header ".concat(t?"header-available":"header-unavailable")},Re("div",{className:"site-name"},Re("h3",null,e.name),Re("p",null,Re("span",{className:"address"},e.address),Re("a",{href:n,target:"_blank",rel:"noreferrer"},Re(l.a,{icon:u.j,className:"icon"}),"Get directions"))),Re("div",{className:"availability"},Re("h4",null,t?"Appointments may be available":"No appointments available"),Re("p",null,Re("b",null,"Last checked "),e.lastChecked))),Re("div",{className:"result-body"},Re("div",null,Re("h4",null,"Vaccine availability"),Re("p",null,e.availability||"None")),Re("div",null,Re("h4",null,"Site details"),Re("p",null,e.siteDetails)),Re("div",null,Re("h4",null,t?"Make an appointment":"About this location"),Re("p",null,e.bookAppointmentInfo)))))},Be=r.a.createElement,Ke=function(e){var t=e.rawSiteData.filter((function(e){return e.availability.length>0})),n=e.rawSiteData.filter((function(e){return 0===e.availability.length})),o=function(e,t){return Be("div",{key:t},Be(He,{name:e.name,address:e.address,siteDetails:Ae(e.serves),availability:e.availability&&Ae(e.availability),lastChecked:Object(Te.dateToString)(e.lastUpdated),bookAppointmentInfo:Ae(e.bookAppointmentInfo)}))};return Be("div",null,t.map(o),n.length>0&&Be(p,{numSites:n.length,hasAvailability:!1}),n.map(o))},We=r.a.createElement,Ge=function(e){var t=e.data,n=e.hideModal;Object(i.useEffect)((function(){return document.addEventListener("click",r,!1),function(){document.removeEventListener("click",r,!1)}}),[]);var o=Object(i.useRef)(),r=function(e){var t=e.target;o.current.contains(t)||n()};return We("div",{className:"modal"},We("div",{className:"modal-content",ref:o},We("div",null,We(Ue,{rawSiteData:[t],center:{lat:t.latitude,lng:t.longitude},zoom:12,setPopupData:function(){},onMapChange:function(){}})),We("div",null,We("center",null,We("button",{onClick:n},We(l.a,{icon:u.m})," "," Close Modal"))),We("div",{className:"modal-site-name-section"},We("div",{className:"modal-section-content"},We("h4",null,t.locationName),We("p",{className:"modal-site-address-text"},t.address," ",We(l.a,{icon:u.j})," ",We("a",{href:"https://www.google.com/maps/place/"+t.address},"Get directions")))),We("div",{className:"modal-book-appointment-section"},We("div",{className:"modal-section-content"},We("h3",null,"To book an appointment"),We("p",{className:"modal-book-appointment-text"},Ae(t.bookAppointmentInformation)))),We("div",null,We("div",{className:"modal-section-content"},We("p",{className:"modal-section-header"},"Serves"),We("p",{className:"modal-text"},t.populationsServed),We("p",{className:"modal-section-header"},"Availability"),We("p",{className:"modal-text"},t.vaccineAvailability),We("p",{className:"modal-section-header"},"Instructions at site"),We("p",{className:"modal-text"},t.instructionsAtSite)))))},Ve=r.a.createElement,Fe=function(){return Ve("div",null,Ve("br",null),Ve("p",null,Ve("b",null," Red star: ")," Mass Vaccination Sites (high volume, large venue sites)"),Ve("p",null,Ve("b",null," Green star: ")," General Vaccination Sites (healthcare locations)"),Ve("p",null,Ve("b",null," Blue star: ")," Local Vaccination Site (open to select cities/towns)"),Ve("p",null,Ve("b",null," Gray dot: ")," No availability currently"))},qe=function(e){var t=Object(i.useState)(!0),n=t[0],o=t[1],r=Object(i.useState)({}),a=r[0],s=r[1],l=e.rawSiteData.filter((function(e){return e.availability.length>0})).length;return Ve("div",{className:"map-and-list"},Ve("div",{className:"button-container"},Ve(d,{title:"Map View",icon:"map",color:n?"blue":"lightGray",onClick:function(){return o(!0)},borderRadius:"4px 0px 0px 4px"}),Ve(d,{title:"List View",icon:"list",color:n?"lightGray":"blue",onClick:function(){return o(!1)},borderRadius:"0px 4px 4px 0px"})),Ve(p,{numSites:l,hasAvailability:!0}),Ve("div",{className:"map-and-list-contents"},Ve("div",{style:n?{}:{display:"none"}},Ve(Ue,{rawSiteData:e.rawSiteData,center:e.mapCoordinates,zoom:e.mapZoom,onMapChange:e.onMapChange,setPopupData:s}),Ve(Fe,null)),!n&&Ve(Ke,{rawSiteData:e.rawSiteData})),a.data&&Ve(Ge,{hideModal:function(){return s({})},data:a.data}))},$e=n("o0o1"),Ye=n.n($e);function Je(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(o,i)}var Xe=r.a.createElement,Qe="Sites with reported doses",et=function(e){var t=Object(i.useState)(""),n=t[0],o=t[1],r=Object(i.useState)(Qe),a=r[0],s=r[1],c=Object(i.useState)(null),p=c[0],h=c[1],m=Object(i.useState)(null),f=m[0],g=m[1],v=Object(i.useState)(!1),_=v[0],y=v[1],b=Object(i.useState)(!1),C=b[0],w=b[1],M=function(){y(window.innerWidth<=640)};Object(i.useEffect)((function(){return window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}}),[]),Object(i.useEffect)((function(){return w(_)}),[_]);var S=function(){g(null)},k=function(){S(),""!==n||null==p?(_&&w(!0),e.onSearch({address:n,availability:a,maxMiles:p})):g("Please enter a city, town, or ZIP.")},L=function(){var t,n=(t=Ye.a.mark((function t(){var n;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S(),!("geolocation"in navigator)){t.next=15;break}return t.prev=2,t.next=5,new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{timeout:5e3})}));case 5:n=t.sent,_&&w(!0),e.onSearch({latitude:n.coords.latitude,longitude:n.coords.longitude,availability:a,maxMiles:p}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:t.next=16;break;case 15:g("Cannot figure out your location.");case 16:case"end":return t.stop()}}),t,null,[[2,10]])})),function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(e){Je(r,o,i,a,s,"next",e)}function s(e){Je(r,o,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),x=function(){return Xe("button",{className:"toggle",onClick:function(){return w(!C)}},Xe(l.a,C?{icon:u.c}:{icon:u.l}))};return Xe("div",{className:"search-header sticky-top full-width"},C?Xe("div",{className:"container collapsed-container"},Xe("p",null,"Show me vaccines near..."),Xe(x,null)):Xe("div",{className:"container"},_&&Xe("div",{className:"relative"},Xe("div",{className:"toggle-container"},Xe(x,null))),Xe("div",{className:"search-header-contents"},Xe("div",{className:"search-header-section"},Xe("div",{className:"search-header-col"},Xe("p",null,"City, Town, or ZIP"),Xe("input",{type:"text",id:"address",name:"address",value:n,onChange:function(e){o(e.target.value)},onKeyDown:function(e){13===e.keyCode&&k()}})),Xe("div",{className:"search-header-col"},Xe("p",null,"Search distance"),Xe("select",{id:"distance",onChange:function(e){var t=e.target.value;h("-1"===t?null:t)}},Xe("option",{value:"-1"},"All MA"),Xe("option",{value:"0.25"},"0.25mi"),Xe("option",{value:"0.5"},"0.5mi"),Xe("option",{value:"1"},"1mi"),Xe("option",{value:"5"},"5mi"),Xe("option",{value:"10"},"10mi"),Xe("option",{value:"25"},"25mi"))),Xe("div",{className:"search-header-col options"},Xe("p",null,"Other options"),Xe("label",{htmlFor:"no-availability"},Xe("input",{type:"checkbox",id:"no-availability",value:a===Qe,onChange:function(){s(a===Qe?"All known vaccination sites":Qe)}}),"Include sites without availability"))),Xe("div",{className:"search-header-section"},Xe("div",{className:"search-header-col"},Xe(d,{title:"Search",color:"blue",icon:"search",onClick:k})),Xe("div",{className:"search-header-col"},Xe(d,{title:"Use my location",color:"blue",icon:"location",onClick:L})))),Xe("div",{className:"error"},f&&Xe("p",null,f))))},tt=r.a.createElement;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it={lat:42.360081,lng:-71.058884};t.default=function(){var e=Object(i.useState)([]),t=e[0],n=e[1],o=Object(i.useState)(it),r=o[0],l=o[1],u=Object(i.useState)(8),c=u[0],p=u[1];Object(i.useEffect)((function(){return h({includeUnavailable:!1})}),[]);var h=function(e){var t=e.includeUnavailable;l(it),p(8),fetch("/initmap").then((function(e){return e.json()})).then((function(e){return t?e:e.filter((function(e){return e.availability.length>0}))})).then((function(e){return n(e)})).catch((function(e){return console.error(e)}))};return tt(s.a,{pageTitle:"Home",containerClassName:"home-page"},tt("div",null,tt(et,{onSearch:function(e){return e.address||e.latitude||e.longitude?fetch("/search_query_location",{method:"post",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(ot({},e))}).then((function(e){return e.json()})).then((function(t){var o=t.lat,i=t.lng,r=t.siteData;n(r),l({lat:o,lng:i}),p(Ze[e.maxMiles]||9)})).catch((function(e){console.log(e)})):h({includeUnavailable:"All known vaccination sites"===e.availability})}}),tt(a.a,null),tt(qe,{rawSiteData:t,mapCoordinates:r,mapZoom:c,onMapChange:function(e){var t=e.center,n=e.zoom;l(t),p(n)}})))}},rePB:function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},uhBA:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,i="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,o,r){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,o||e,r),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)o.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,a=new Array(r);o<r;o++)a[o]=n[o].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,o,r,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,o),!0;case 5:return c.fn.call(c.context,t,n,o,r),!0;case 6:return c.fn.call(c.context,t,n,o,r,a),!0}for(u=1,l=new Array(p-1);u<p;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),p){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,o);break;default:if(!l)for(h=1,l=new Array(p-1);h<p;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,o){var r=i?i+e:e;if(!this._events[r])return this;if(!t)return l(this,r),this;var a=this._events[r];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||l(this,r);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||o&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[r]=1===u.length?u[0]:u:l(this,r)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])},xnQO:function(e,t,n){"use strict";function o(e,t){this.x=e,this.y=t}e.exports=o,o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),o=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=o,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),o=Math.sin(e),i=t.x+n*(this.x-t.x)-o*(this.y-t.y),r=t.y+o*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e}}},[["vlRD",0,2,5,4,1,3]]]);